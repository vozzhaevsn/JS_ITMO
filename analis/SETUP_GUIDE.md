# ‚úÖ –ù–ê–•–ê–í –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–û–ù–ù–û–ì–û –ì–ê–ô–î–ê

## –û–≤–µ—Ä–≤—å—é

–≠—Ç–æ—Ç —Ä–∞—Å—Å—á–µ—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –¥–≤–µ –≤–∞–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Behavior Graph Analyzer.

**–û—Å—Ç–∞–≤–∏–ª—Å—è —Ç—Ä–µ—Å–∫–æ–≤—ã–π —Å—Å—ã–ª–∫–∞?**
- –ß–∏—Ç–∞–π—Ç–µ –∂–µ–ª—Ç—É—é —á–∞—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚¨áÔ∏è

---

## –ß—Ç–æ –Ω–æ–≤–æ?

| –®–∞–≥ | –§–∞–π–ª | –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –°—Ç–∞—Ç—É—Å |
|------|------|-------------|--------|
| 1 | `background.js` | –ò—Å–ø–æ–ª—å–∑—É–µ–º `function` –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–µ–ª–∫–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ chrome.storage | ‚úÖ **–ì–û–¢–û–í–û** |
| 2 | `background.js` | –û–±—Ä–∞–±–æ—Ç—á–∏–∫ GET_SESSION, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | ‚úÖ **–ì–û–¢–û–í–û** |
| 3 | `popup.js` | –û—Ç—á–∏—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ chrome.storage.local –ø–µ—Ä–≤—ã–º | ‚úÖ **–ì–û–¢–û–í–û** |

---

## üîì –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

- [x] **–®–∞–≥ 1**: `background.js` ‚úÖ
  - `chrome.runtime.onMessage.addListener(function(message, sender, sendResponse) { ... })`
  - `initializeSession()` –≤ –Ω–∞—á–∞–ª–µ –∫–æ–¥–∞
  - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç—Ä–µ–º–∞—Å—Ç–∏—è `chrome.storage.local.get()`

- [x] **–®–∞–≥ 2**: `background.js` ‚úÖ
  - –û–±—Ä–∞–±–æ—Ç–∞ GET_SESSION/GET_CURRENT_SESSION
  - Async —á—Ç–µ–Ω–∏–µ –∏–∑ storage: `chrome.storage.local.get(['currentSession', 'sessionEvents'], callback)`
  - `return true` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

- [x] **–®–∞–≥ 3**: `popup.js` ‚úÖ
  - `analyzeCurrentSession()` —Ç–µ–ø–µ—Ä—å —Å–Ω–∞—á–∞–ª–∞ —á–∏—Ç–∞–µ—Ç –∏–∑ storage
  - `function(response)` –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–µ–ª–∫–∏
  - –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `updateSessionDisplay()` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

## ü™ü –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### 1Ô∏è‚É£ –ü–µ—Ä–µ—Å—Ç–∞—Ä—Ç—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

```
–≥–∞–π–¥://extensions/
–ù–∞–π–¥–∏—Ç–µ "Behavior Graph Analyzer"
–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚ùï (–æ–±–Ω–æ–≤–∏—Ç—å)
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª index.html –∏–∑ –ø–∞–ø–∫–∏ popup/
```

### 2Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Å–∞–π—Ç

```
https://www.example.com/
```

### 3Ô∏è‚É£ –ù–∞—á–Ω–∏—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12 ‚Üí Console)
- –ö–ª–∏–∫–Ω–∏—Ç–µ 20 —Ä–∞–∑ –ø–æ —Ä–∞–∑–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
- –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–≤–µ—Ä—Ö-–≤–Ω–∏–∑
- –ù–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã

### 4Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —ç–Ω—á—É

–ì–∞–π–¥://extensions/ ‚Üí –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —ç–Ω—á—É
–í–∏–¥–∏—Ç–µ popup –æ–∫–Ω–æ

### 5Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å

–û—á–∫—è–≤–∞–π—Ç–µ:
- –û–∫–Ω–æ popup —Å –≥—Ä–∞—Ñ–æ–º
- –ú–µ—Ç—Ä–∏–∫–∏: –ù–æ–¥–æ–≤, —Ä–µ–±–µ—Ä, —Å–æ–±—ã—Ç–∏–µ
- –ñ–µ–ª—Ç–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏

### 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å

**Background console:**
```
‚úÖ [BackgroundScript] —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ 10 —Å–æ–±—ã—Ç–∏–π –≤ storage
‚úÖ [BackgroundScript] –û—Ç–ø—Ä–∞–≤–ª—è—é: 20 —Å–æ–±—ã—Ç–∏–π
```

**Popup console:**
```
‚úÖ [Popup] –ò–∑ storage: 20 —Å–æ–±—ã—Ç–∏–π
‚úÖ [Popup] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```

---

## üóëÔ∏è –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Chrome.storage –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ background console:
```
‚úÖ [BackgroundScript] Storage –∞–∫—Ç–∏–≤–Ω–æ
```
–ï—Å–ª–∏ –°–¢–£–ö - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ manifest.json:
```json
{
  "permissions": [
    "storage",
    "tabs",
    "scripting"
  ]
}
```

### Popup –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

–û—Ç–∫—Ä–æ–π—Ç–µ popup console:
```
‚úÖ [Popup] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```
–ï—Å–ª–∏ –°–¢–£–ö - –ø–µ—Ä–µ—Å—Ç–∞—Ä—Ç—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –ú–µ—Ä–∫–∏ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è

–û—Ç–∫—Ä–æ–π—Ç–µ background console:
```
‚úÖ [BackgroundScript] RECORD_EVENT: click - Total: 5
```
–ï—Å–ª–∏ –ø—É—Å—Ç–æ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ content-script.js

---

## üåü –û—á–∫–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### Background console:
```
‚úÖ [BackgroundScript] –ù–∞–≥—Ä—É–∂–µ–Ω
‚úÖ [BackgroundScript] Storage –¥–æ—Å—Ç—É–ø–µ–Ω
‚úÖ [BackgroundScript] Session –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
‚úÖ [BackgroundScript] PAGE_LOADED
‚úÖ [BackgroundScript] RECORD_EVENT: click - Total: 1
‚úÖ [BackgroundScript] –û—Å—Ö—Ä–∞–Ω–µ–Ω–æ 10 —Å–æ–±—ã—Ç–∏–π –≤ storage
‚úÖ [BackgroundScript] –û—Ç–ø—Ä–∞–≤–ª—è—é: 15 —Å–æ–±—ã—Ç–∏–π
```

### Content-script console:
```
‚úÖ [ContentScript] –¢—Ä—ç–∫–∏–Ω–≥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ [ContentScript] Click —Å–æ–±—ã—Ç–∏–µ
```

### Popup console:
```
‚úÖ [Popup] Loading...
‚úÖ [Popup] –ò–∑ storage: 15 —Å–æ–±—ã—Ç–∏–π
‚úÖ [Popup] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚úÖ [Popup] Initialized
```

### Popup Display:
```
–£–∑–ª–æ–≤: 3
–†–µ–±–µ—Ä: 2
–°–æ–±—ã—Ç–∏–π: 15
[–ì—Ä–∞—Ñ —Ä–∏—Å—É–µ—Ç—Å—è]
[–ñ–µ–ª—Ç–∞—è –ø–∞–Ω–µ–ª—å —Å –∏–Ω—Ñ–æ —Å–µ—Å—Å–∏–∏]
```

---

## üöß –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?

- –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä –±–æ—Ç–æ–≤
- –£–ª—É—á—à–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∞–Ω–∞–ª–∏–∑–∞ (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã)
- –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å —É—Ç–µ—á–∫–∏ –¥–ª—è —É—É–∂–∞—Å –º–∏–∏

---

## ‚≠ê –ò—Ç–æ–≥–∏

**–í—Å–µ —Ç—Ä–∏ —à–∞–≥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∏ –¥–µ–ø–ª–æ–π–Ω—ã:**

1. ‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
2. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ GET_SESSION —Å chrome.storage
3. ‚úÖ –ü–æ–ø—É–ø —á–∏—Ç–∞–µ—Ç –∏–∑ chrome.storage

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–æ—Ç–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚ú®
