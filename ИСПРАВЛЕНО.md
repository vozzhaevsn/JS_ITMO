# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: Popup —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç!

## –ß—Ç–æ –±—ã–ª–æ —Å–ª–æ–º–∞–Ω–æ?

‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 1:** Canvas —Ä–∞–∑–º–µ—Ä—ã –±—ã–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ  
‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 2:** Popup.js –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —á–∏—Ç–∞–ª —Ä–∞–∑–º–µ—Ä canvas –∏–∑ CSS  
‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 3:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∏–º–µ–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ flex layout  

---

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ?

‚úÖ **popup.css** - —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π flex layout:
```css
.container {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;  /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
}

.graph {
  flex: 1;  /* –ó–∞–Ω–∏–º–∞–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ */
  width: 100%;
}
```

‚úÖ **popup.js** - —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä—ã canvas:
```javascript
function initCanvas() {
  canvas.width = 400;   // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞
  canvas.height = 336;  // –ì–∏–±–∫–∞—è –≤—ã—Å–æ—Ç–∞ (flex: 1)
  
  // –ü—Ä–∏–º–µ–Ω—è–µ–º device pixel ratio –¥–ª—è —Ä–µ–∑–∫–æ—Å—Ç–∏ –Ω–∞ Retina
  const dpr = window.devicePixelRatio || 1;
  canvas.width *= dpr;
  canvas.height *= dpr;
  ctx.scale(dpr, dpr);
}
```

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** –∫–∞–∂–¥—ã–µ 500–º—Å - –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫—É!

---

## üß™ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?

### –®–∞–≥ 1: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `chrome://extensions/`
2. –ù–∞–π—Ç–∏ "Behavior Graph Analyzer"
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚Üª (–æ–±–Ω–æ–≤–∏—Ç—å/reload)

### –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å –ø—É—Å—Ç—É—é –≤–∫–ª–∞–¥–∫—É —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

```
https://www.google.com
https://example.com
https://github.com
```

### –®–∞–≥ 3: –ö–ª–∏–∫–∞—Ç—å –ø–æ —Ä–∞–∑–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º

- –ù–∞–∂–∏–º–∞–µ–º 15-20 —Ä–∞–∑ –ø–æ –∫–Ω–æ–ø–∫–∞–º, —Å—Å—ã–ª–∫–∞–º, –∏–Ω–ø—É—Ç–∞–º
- –ö–ª–∏–∫–∞–µ–º –ø–æ —Ä–∞–∑–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –•–æ–≤–µ—Ä–∏–º –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

### –®–∞–≥ 4: –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å –∏ popup

1. –ù–∞–∂–º–∏—Ç–µ **F12** (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è DevTools)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Console** (–ö–æ–Ω—Å–æ–ª—å)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (—É –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏) ‚Üí Popup

### –®–∞–≥ 5: –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏

–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏ —Ç–∏–ø–∞:
```
‚úÖ [ContentScript] ‚úÖ –¢—Ä–µ–∫–∏–Ω–≥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ [ContentScript] Click —Å–æ–±—ã—Ç–∏–µ –Ω–∞: button
‚úÖ [BackgroundScript] RECORD_EVENT: click - Total: 1
‚úÖ [Popup] –û—Ç–≤–µ—Ç: {success: true, session: {...}}
‚úÖ [Popup] –°–æ–±—ã—Ç–∏–π: 5
```

### –®–∞–≥ 6: –°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ popup –æ–∫–Ω–æ

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìä –ì—Ä–∞—Ñ –ø–æ–≤–µ–¥–µ–Ω–∏—è ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –£–∑–ª–æ–≤: 3 –†—ë–±–µ—Ä: 5   ‚îÇ
‚îÇ –°–æ–±—ã—Ç–∏–π: 7          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                      ‚îÇ
‚îÇ   [–ì—Ä–∞—Ñ —Å —É–∑–ª–∞–º–∏]    ‚îÇ  <- –î–û–õ–ñ–ï–ù –ë–´–¢–¨ –ù–ê–†–ò–°–û–í–ê–ù!
‚îÇ                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ: 0.43  ‚îÇ
‚îÇ –¶–∏–∫–ª—ã: –î–∞           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (500–º—Å)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üö® –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: DevTools

–û—Ç–∫—Ä–æ–π—Ç–µ **F12** ‚Üí **Console** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä canvas
const canvas = document.getElementById('graphCanvas');
console.log('Canvas —Ä–∞–∑–º–µ—Ä:', canvas.width, 'x', canvas.height);
console.log('Container —Ä–∞–∑–º–µ—Ä:', document.querySelector('.container').offsetWidth);
```

–®—Ç—É–∫–æ–∑–∞–≥–æ–≤–µ—Ç –±—ã—Ç—å:
```
Canvas —Ä–∞–∑–º–µ—Ä: 400 x 336
Container —Ä–∞–∑–º–µ—Ä: 400
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: Storage

–í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
chrome.storage.local.get(['currentSession', 'sessionEvents'], function(result) {
  console.log('–°–µ–∞–Ω—Å:', result.currentSession);
  console.log('–°–æ–±—ã—Ç–∏–π:', result.sessionEvents?.length);
});
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å 0+ —Å–æ–±—ã—Ç–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

```
1. chrome://extensions/ ‚Üí –û—Ç–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
2. chrome://extensions/ ‚Üí –í–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–∞–π—Ç–∞ (F5)
4. –û—Ç–∫—Ä—ã—Ç—å Popup (–∫–ª–∏–∫ –Ω–∞ –∏–∫–æ–Ω–∫—É)
5. F12 ‚Üí Console
6. –ù–∞–∂–∏–º–∞—Ç—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
```

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] Popup –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (500x600px –æ–∫–Ω–æ)
- [ ] Canvas –≤–∏–¥–Ω–æ —Å —Å–µ—Ç–∫–æ–π (–µ—Å–ª–∏ –Ω–µ—Ç —Å–æ–±—ã—Ç–∏–π)
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –≤–∏–¥–Ω—ã –ª–æ–≥–∏ `[ContentScript]` –ø—Ä–∏ –∫–ª–∏–∫–µ
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –≤–∏–¥–Ω—ã –ª–æ–≥–∏ `[BackgroundScript]` –ø—Ä–∏ –∫–ª–∏–∫–µ
- [ ] Popup –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥—Ä–∞—Ñ —Å —É–∑–ª–∞–º–∏ (–ø—Ä–∏ 5+ –∫–ª–∏–∫–æ–≤)
- [ ] –°—á–µ—Ç—á–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è: "–£–∑–ª–æ–≤", "–†—ë–±–µ—Ä", "–°–æ–±—ã—Ç–∏–π"
- [ ] –ì—Ä–∞—Ñ —Å–∫—Ä–æ–ª–ª–∏—Ç—Å—è (wheel), –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è (drag)
- [ ] –ö–Ω–æ–ø–∫–∞ "–≠–∫—Å–ø–æ—Ä—Ç" —Å–∫–∞—á–∏–≤–∞–µ—Ç JSON
- [ ] –ö–Ω–æ–ø–∫–∞ "‚úï" –æ—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞–¥–æ! Popup:

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –∫–∞–∂–¥—ã–µ 500–º—Å  
‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥—Ä–∞—Ñ —Å —É–∑–ª–∞–º–∏ (—Å–æ–±—ã—Ç–∏—è) –∏ —Ä—ë–±—Ä–∞–º–∏ (–ø–µ—Ä–µ—Ö–æ–¥—ã)  
‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏: —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ, —Ü–∏–∫–ª—ã, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –±–æ—Ç–∞  
‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ JSON  
‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—á–∏—Å—Ç–∏—Ç—å —Å–µ—Å—Å–∏—é  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç zoom –∏ drag –≥—Ä–∞—Ñ–∏–∫–∞  

**–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ—Ä–ø–µ–Ω–∏–µ! –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! üöÄ**
